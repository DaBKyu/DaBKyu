<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>탈퇴 페이지</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> <!-- Font Awesome CSS 추가 -->
    <style>
        body {
            display: flex;
            font-family: Arial, sans-serif;
        }

        #myMenu {
            width: 250px; 
            padding: 20px;
            background-color: #f8f9fa; 
        }

        .user-icon {
            font-size: 2rem; 
            text-align: center;
            margin-bottom: 20px; 
        }

        .order-list {
            flex: 1; 
            padding: 20px;
        }

        .order-list-title {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .search-container {
            margin-top: 20px;
            display: flex; 
            align-items: center; 
        }

        .search-input {
            flex: 1; 
            padding: 8px;
            font-size: 1rem;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .search-icon {
            margin-left: 10px; 
            color: #888;
            font-size: 1.25rem; 
            cursor: pointer;
        }

        .order-table {
            margin-top: 20px;
        }

        .delivery-years {
            display: flex; 
            gap: 10px; 
        }

        .delivery-years span {
            padding: 5px 10px; 
            border: 1px solid #ccc; 
            border-radius: 5px; 
        }

        .delivery-period {
            margin-top: 20px; 
        }

        .order-summary {
            margin-top: 20px; 
        }

        .order-details {
            margin-top: 10px; 
        }

        
        .modal {
            display: none; 
            position: fixed;
            z-index: 1000; 
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgba(0, 0, 0, 0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%; 
        }

        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .password-form {
            margin-top: 20px;
        }

        .password-form input {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            font-size: 1rem;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .password-form button {
            padding: 10px 20px;
            background-color: #dc3545;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .password-form button:hover {
            background-color: #c82333;
        }
    </style>
</head>
<body>
    <div id="myMenu">
        <h2>mypage</h2>
        <div class="user-icon">
            <i class="fas fa-user-circle"></i> 
        </div>
        <nav>
            <div>
                <div>나의 쇼핑</div>
                <ul>
                    <li><a href="order" title="주문목록/배송현황">주문/배송현황</a></li>
            </div>
            <div>
                <div>나의 정보</div>
                <ul>
                    <li><a href="memberInfo" title="회원정보 보기">회원정보 보기</a></li> 
                    <li><a href="modifyMemberInfo" title="회원정보 수정">회원정보 수정</a></li>
                    <li><button id="deleteAccountBtn" type="button">회원정보 탈퇴</button></li>
                </ul>
            </div>
        </nav>
    </div>

    <!-- 비밀번호 입력 모달 -->
<div id="deleteAccountModal" class="modal">
    <div class="modal-content">
        <span class="close-button" id="closeDeleteAccountModal">&times;</span>
        <h1>회원정보 탈퇴</h1>
        
        <div class="password-form">
            <label for="password">비밀번호를 입력해 주세요</label>
            <input type="password" id="password" class="modal-input" placeholder="비밀번호 입력">
            <button id="confirmDeleteBtn">탈퇴 신청</button>
        </div>
    </div>
</div>

<script>
    // 모달 관련 변수
    const deleteAccountModal = document.getElementById('deleteAccountModal');
    const closeDeleteAccountModal = document.getElementById('closeDeleteAccountModal');
    const deleteAccountBtn = document.getElementById('deleteAccountBtn');
    const confirmDeleteBtn = document.getElementById('confirmDeleteBtn');
    const passwordInput = document.getElementById('password');

    // 초기 비밀번호 설정
    const correctPassword = "1234";

    // 탈퇴 버튼 클릭 시 비밀번호 입력 모달 열기
    deleteAccountBtn.addEventListener('click', function() {
        deleteAccountModal.style.display = 'block';
    });

    // 비밀번호 입력 모달 닫기
    closeDeleteAccountModal.addEventListener('click', function() {
        deleteAccountModal.style.display = 'none';
    });

    // 탈퇴 신청 버튼 클릭 시
    confirmDeleteBtn.addEventListener('click', function() {
        const password = passwordInput.value;

        // 비밀번호가 맞는지 확인
        if (password) {
            if (password === correctPassword) {
                const confirmation = confirm("정말로 회원 탈퇴를 하시겠습니까?");  // 삭제 확인 메시지

                if (confirmation) {
                    alert("회원 탈퇴가 완료되었습니다.");
                    deleteAccountModal.style.display = 'none';  // 모달 닫기
                } else {
                    alert("회원 탈퇴가 취소되었습니다.");
                    deleteAccountModal.style.display = 'none';  // 모달 닫기
                }
            } else {
                alert("비밀번호가 다릅니다.");
            }
        } else {
            alert("비밀번호를 입력해주세요.");
        }
    });
</script>

</body>
</html>
