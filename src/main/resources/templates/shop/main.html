<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>메인페이지</title>
<link rel="stylesheet" href="/src/main/resources/static/css/shopHeader.css">
<style>
/* 캐러셀 컨테이너 */
.carousel {
    position: relative;
    width: 1000px; /* 전체 너비 */
    margin: 0 auto;
    overflow: hidden;
    display: flex;
    align-items: center;
}

/* 슬라이드 목록 (각 슬라이드의 내용) */
.carousel-track-container {
    display: flex;
    width: 100%;
}

.carousel-track {
    display: flex;
    transition: transform 0.5s ease-in-out;
    list-style: none;
    padding: 0;
    margin: 0;
}

.carousel-slide {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    width: 1000px; /* 한 슬라이드의 넓이를 100%로 설정 */
    padding: 10px;
}

.product {
    width: 23%; /* 4개 상품을 1줄에 보여주기 위한 설정 */
    margin-bottom: 20px; /* 상품 간 세로 간격 */
    text-align: center;
}

.product img {
    width: 100%;
    height: auto;
    border-radius: 8px;
}

.product-info h3 {
    margin: 10px 0;
    font-size: 1.1em;
}

.product-info .price {
    color: #777;
    font-size: 1em;
}
.carousel-btn {
    position: absolute;
    transform: translateY(-90%);
    background-color: rgba(0, 0, 0, 0);
    color: #888888;
    padding: 10px;
    border: none;
    font-size: 20px;
    cursor: pointer;
    z-index: 10; /* 버튼을 콘텐츠 위에 올리기 위해 z-index 추가 */
}

.prev {
    left: 0; /* 왼쪽 버튼 위치 */
}

.next {
    right: 0; /* 오른쪽 버튼 위치 */
}

.carousel-btn:hover {
    color: rgba(41, 41, 41, 0.7);
}
/* 알림 모달 스타일 */
.notification-modal {
    display: none; /* 기본 숨김 */
    position: fixed;
    top: 50px;
    right: 20px;
    width: 300px;
    background-color: white;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    overflow: hidden;
    z-index: 1000;
}

.notification-content {
    padding: 0px;
    font-size: 0.9rem;
    color: #333;
}
</style>
</head>
<body>
    <nav>
        <div style="display: flex; align-items: center; width: 100%;">
            <!-- 메뉴 토글 아이콘 -->
                <i class="fi fi-br-menu-burger" href="#" id="menu-toggle" style="font-size: 25px; margin-top: 1.5px;"></i>
                <a style="margin-left: 70px; font-size: 20px;">DABKYU</a>        
            <!-- 검색창 -->
            <div style="flex-grow: 1; position: relative; max-width: 700px; margin-left: 100px;">
                <input type="text" name="keyword" id="keyword" 
                       style="width: 100%; height: 30px; border: 2px solid #e3e3e3; font-size: 16px; border-radius: 20px; padding-left: 10px;"
                       placeholder="검색어를 입력하세요." onkeydown="press(event)">
                <i class="fi fi-br-search" onclick="search()"
                   style="position: absolute; right: 5px; top: 50%; transform: translateY(-50%); height: 20px;"></i>
            </div>
            <!-- 아이콘들 -->
            <div style="display: flex; gap: 30px; align-items: center;  margin-left: auto; margin-right: 10px;">
                <a href="#"><i class="fi fi-rr-user" style="font-size: 20px;"></i></a>
                <a href="#"><i class="fi fi-rr-shopping-cart" style="font-size: 20px;"></i></a>
                <a href="#"><i class="fi fi-rs-bell" id="notificationBtn" style="font-size: 20px;"></i></a>
            </div>
        </div>
    </nav>
    <aside>
        <ul>
            <li class="dropdown"><a href="#">카테고리1<span>&rsaquo;</span></a>
                <ul>
                    <li class="dropdown_two"><a href="#">카테고리1-1<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리1-1-1</a></li>
                            <li><a href="#">카테고리1-1-2</a></li>
                            <li><a href="#">카테고리1-1-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리1-2<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리1-2-1</a></li>
                            <li><a href="#">카테고리1-2-2</a></li>
                            <li><a href="#">카테고리1-2-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리1-3<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리1-3-1</a></li>
                            <li><a href="#">카테고리1-3-2</a></li>
                            <li><a href="#">카테고리1-3-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리1-4<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리1-4-1</a></li>
                            <li><a href="#">카테고리1-4-2</a></li>
                            <li><a href="#">카테고리1-4-3</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li class="dropdown"><a href="#">카테고리2<span>&rsaquo;</span></a>
                <ul>
                    <li class="dropdown_two"><a href="#">카테고리2-1<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리2-1-1</a></li>
                            <li><a href="#">카테고리2-1-2</a></li>
                            <li><a href="#">카테고리2-1-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리2-2<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리2-2-1</a></li>
                            <li><a href="#">카테고리2-2-2</a></li>
                            <li><a href="#">카테고리2-2-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리2-3<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리2-3-1</a></li>
                            <li><a href="#">카테고리2-3-2</a></li>
                            <li><a href="#">카테고리2-3-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리2-4<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리2-4-1</a></li>
                            <li><a href="#">카테고리2-4-2</a></li>
                            <li><a href="#">카테고리2-4-3</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li class="dropdown"><a href="#">카테고리3<span>&rsaquo;</span></a>
                <ul>
                    <li class="dropdown_two"><a href="#">카테고리3-1<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리3-1-1</a></li>
                            <li><a href="#">카테고리3-1-2</a></li>
                            <li><a href="#">카테고리3-1-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리3-2<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리3-2-1</a></li>
                            <li><a href="#">카테고리3-2-2</a></li>
                            <li><a href="#">카테고리3-2-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리3-3<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리3-3-1</a></li>
                            <li><a href="#">카테고리3-3-2</a></li>
                            <li><a href="#">카테고리3-3-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리3-4<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리3-4-1</a></li>
                            <li><a href="#">카테고리3-4-2</a></li>
                            <li><a href="#">카테고리3-4-3</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li class="dropdown"><a href="#">카테고리4<span>&rsaquo;</span></a>
                <ul>
                    <li class="dropdown_two"><a href="#">카테고리4-1<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리4-1-1</a></li>
                            <li><a href="#">카테고리4-1-2</a></li>
                            <li><a href="#">카테고리4-1-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리4-2<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리4-2-1</a></li>
                            <li><a href="#">카테고리4-2-2</a></li>
                            <li><a href="#">카테고리4-2-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리4-3<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리4-3-1</a></li>
                            <li><a href="#">카테고리4-3-2</a></li>
                            <li><a href="#">카테고리4-3-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리4-4<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리4-4-1</a></li>
                            <li><a href="#">카테고리4-4-2</a></li>
                            <li><a href="#">카테고리4-4-3</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li class="dropdown"><a href="#">카테고리5<span>&rsaquo;</span></a>
                <ul>
                    <li class="dropdown_two"><a href="#">카테고리5-1<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리5-1-1</a></li>
                            <li><a href="#">카테고리5-1-2</a></li>
                            <li><a href="#">카테고리5-1-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리5-2<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리5-2-1</a></li>
                            <li><a href="#">카테고리5-2-2</a></li>
                            <li><a href="#">카테고리5-2-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리5-3<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리5-3-1</a></li>
                            <li><a href="#">카테고리5-3-2</a></li>
                            <li><a href="#">카테고리5-3-3</a></li>
                        </ul>
                    </li>
                    <li class="dropdown_two"><a href="#">카테고리5-4<span>&rsaquo;</span></a>
                        <ul>
                            <li><a href="#">카테고리5-4-1</a></li>
                            <li><a href="#">카테고리5-4-2</a></li>
                            <li><a href="#">카테고리5-4-3</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
    </aside>
    <br><br><br>
    <section class="shopping-suggestions" style="width: 80%; margin: 0 auto;">
        <h2>카테고리</h2>
        <div class="carousel">
            <button class="carousel-btn prev">◀</button>
            <div class="carousel-track-container">
                <ul class="carousel-track">
                    <!-- 첫 번째 슬라이드 (상품 1~8) -->
                    <li class="carousel-slide">
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 1">
                            <div class="product-info">
                                <h3>카테고리1</h3>

                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 2">
                            <div class="product-info">
                                <h3>카테고리2</h3>
                      
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 3">
                            <div class="product-info">
                                <h3>카테고리3</h3>
                        
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 4">
                            <div class="product-info">
                                <h3>카테고리4</h3>
                   
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 5">
                            <div class="product-info">
                                <h3>상품 5</h3>
                                <p class="price">₩30,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 6">
                            <div class="product-info">
                                <h3>상품 6</h3>
                                <p class="price">₩35,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 7">
                            <div class="product-info">
                                <h3>상품 7</h3>
                                <p class="price">₩40,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 8">
                            <div class="product-info">
                                <h3>상품 8</h3>
                                <p class="price">₩45,000</p>
                            </div>
                        </div>
                    </li>
                    <!-- 두 번째 슬라이드 (상품 5~8) -->
                    <li class="carousel-slide">
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 5">
                            <div class="product-info">
                                <h3>상품 5</h3>
                                <p class="price">₩30,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 6">
                            <div class="product-info">
                                <h3>상품 6</h3>
                                <p class="price">₩35,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 7">
                            <div class="product-info">
                                <h3>상품 7</h3>
                                <p class="price">₩40,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 8">
                            <div class="product-info">
                                <h3>상품 8</h3>
                                <p class="price">₩45,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 5">
                            <div class="product-info">
                                <h3>상품 5</h3>
                                <p class="price">₩30,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 6">
                            <div class="product-info">
                                <h3>상품 6</h3>
                                <p class="price">₩35,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 7">
                            <div class="product-info">
                                <h3>상품 7</h3>
                                <p class="price">₩40,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 8">
                            <div class="product-info">
                                <h3>상품 8</h3>
                                <p class="price">₩45,000</p>
                            </div>
                        </div>
                    </li>
                    <!-- 세 번째 슬라이드 (상품 9~12) -->
                    <li class="carousel-slide">
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 9">
                            <div class="product-info">
                                <h3>상품 9</h3>
                                <p class="price">₩50,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 10">
                            <div class="product-info">
                                <h3>상품 10</h3>
                                <p class="price">₩55,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 11">
                            <div class="product-info">
                                <h3>상품 11</h3>
                                <p class="price">₩60,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 12">
                            <div class="product-info">
                                <h3>상품 12</h3>
                                <p class="price">₩65,000</p>
                            </div>
                        </div>
                        <div class="product">
                            <img src="https://via.placeholder.com/150" alt="Product 12">
                            <div class="product-info">
                                <h3>상품 12</h3>
                                <p class="price">₩65,000</p>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <button class="carousel-btn next">▶</button>
        </div>
    </section>
<!-- 알림 모달 -->
<div class="notification-modal" id="notificationModal">
    <div class="notification-content">
        <iframe 
        width="560" 
        height="315" 
        src="/src/main/resources/templates/mypage/notice.html" 
        title="notice" 
        style="border: none;"
        allowfullscreen>
        </iframe>
    </div>
</div>

<script>
    const track = document.querySelector('.carousel-track');
    const slides = Array.from(track.children);
    const nextButton = document.querySelector('.next');
    const prevButton = document.querySelector('.prev');

    // 각 슬라이드의 너비 구하기 (상품 4개 기준)
    const slideWidth = slides[0].getBoundingClientRect().width;

    // 슬라이드가 움직일 때마다 위치를 변경하도록 하는 함수
    const moveToSlide = (index) => {
        track.style.transform = `translateX(-${index * slideWidth}px)`;

        // 슬라이드가 마지막에 도달했을 때 버튼 숨기기
        if (index === slides.length - 1) {
            nextButton.style.display = 'none'; // 마지막 슬라이드에서는 next 버튼 숨기기
        } else {
            nextButton.style.display = 'block'; // 마지막 슬라이드가 아니면 next 버튼 보이기
        }

        // 슬라이드가 첫 번째에 도달했을 때 버튼 숨기기
        if (index === 0) {
            prevButton.style.display = 'none'; // 첫 번째 슬라이드에서는 prev 버튼 숨기기
        } else {
            prevButton.style.display = 'block'; // 첫 번째 슬라이드가 아니면 prev 버튼 보이기
        }
    };

    // 현재 슬라이드 인덱스 초기화
    let currentSlideIndex = 0;

    // 첫 번째 슬라이드가 보일 때 prev 버튼 숨기기
    prevButton.style.display = 'none';

    // 슬라이드 전환 (다음 버튼)
    nextButton.addEventListener('click', () => {
        if (currentSlideIndex < slides.length - 1) {
            currentSlideIndex++;
        } else {
            currentSlideIndex = 0; // 마지막 슬라이드에서 첫 번째 슬라이드로 돌아가기
        }
        moveToSlide(currentSlideIndex);
    });

    // 슬라이드 전환 (이전 버튼)
    prevButton.addEventListener('click', () => {
        if (currentSlideIndex > 0) {
            currentSlideIndex--;
        } else {
            currentSlideIndex = slides.length - 1; // 첫 번째 슬라이드에서 마지막 슬라이드로 돌아가기
        }
        moveToSlide(currentSlideIndex);
    });

    // 메뉴 아이콘 클릭 시 메뉴를 열거나 닫기
    document.getElementById('menu-toggle').addEventListener('click', function() {
        const aside = document.querySelector('aside');
        aside.classList.toggle('open'); // 'open' 클래스를 토글하여 메뉴 열기/닫기
    });

    // 알림 버튼 및 모달 요소 가져오기
    const notificationBtn = document.getElementById('notificationBtn');
    const notificationModal = document.getElementById('notificationModal');

    // 알림 버튼 클릭 시 모달 열기/닫기
    notificationBtn.addEventListener('click', () => {
        if (notificationModal.style.display === 'block') {
            // 모달이 이미 열려 있으면 닫기
            notificationModal.style.display = 'none';
        } else {
            // 모달이 닫혀 있으면 열기
            notificationModal.style.display = 'block';
        }
    });

    // 모달 외부 클릭 시 모달 숨기기
    window.addEventListener('click', (event) => {
        if (notificationModal.style.display === 'block' && 
            event.target !== notificationModal && 
            event.target !== notificationBtn && 
            !notificationModal.contains(event.target)) {
                notificationModal.style.display = 'none';
        }
    });
</script>
</body>
</html>
