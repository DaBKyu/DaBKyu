<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
				 xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<title>ajax 연습</title>
<link rel="stylesheet" type="text/css" href="/src/main/resources/static/css/shopHeader.css">
<style>
.content {
    margin-top: 20px;
    padding: 20px;
    border: 1px solid #ddd;
}

/* 캐러셀 컨테이너 */
.carousel {
    position: relative;
    width: 1000px; /* 전체 너비 */
    margin: 0 auto;
    overflow: hidden;
    display: flex;
    align-items: center;
}

/* 슬라이드 목록 (각 슬라이드의 내용) */
.carousel-track-container {
    display: flex;
    width: 100%;
}

.carousel-track {
    display: flex;
    transition: transform 0.5s ease-in-out;
    list-style: none;
    padding: 0;
    margin: 0;
}

.carousel-slide {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    width: 1000px; /* 한 슬라이드의 넓이를 100%로 설정 */
    padding: 10px;
}

.product {
    width: 23%; /* 4개 상품을 1줄에 보여주기 위한 설정 */
    margin-bottom: 20px; /* 상품 간 세로 간격 */
    text-align: center;
}

.product img {
    width: 100%;
    height: auto;
    border-radius: 8px;
}

.product-info h3 {
    margin: 10px 0;
    font-size: 1.1em;
}

.product-info .price {
    color: #777;
    font-size: 1em;
}
.carousel-btn {
    position: absolute;
    transform: translateY(-90%);
    background-color: rgba(0, 0, 0, 0);
    color: #888888;
    padding: 10px;
    border: none;
    font-size: 20px;
    cursor: pointer;
    z-index: 10; /* 버튼을 콘텐츠 위에 올리기 위해 z-index 추가 */
}

.prev {
    left: 0; /* 왼쪽 버튼 위치 */
}

.next {
    right: 0; /* 오른쪽 버튼 위치 */
}

.carousel-btn:hover {
    color: rgba(41, 41, 41, 0.7);
}
/* 알림 모달 스타일 */
.notification-modal {
    display: none; /* 기본 숨김 */
    position: fixed;
    top: 50px;
    right: 20px;
    width: 403px;
    background-color: white;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    overflow: hidden;
    z-index: 1000;
}

.notification-content {
    padding: 0px;
    font-size: 0.9rem;
    color: #333;
}
#iframeContainer {
    width: 800px; /* 표시할 화면의 너비 */
    height: 740px; /* 표시할 화면의 높이 */
    overflow: hidden;
    position: relative;
}

#iframeContainer iframe {
    width: 1000px; /* 원본 페이지의 너비 */
    height: 740px; /* iframeContainer와 동일한 높이 */
    transform: translateX(-69.9%); /* 가로 중앙 기준 */
    left: 50%;
    position: relative;
    border: none;
}
</style>
</head>
<body>
    <div id="ShopHeader"></div>
    <div id="content" class="content">
        <br><br><br>
        <section class="shopping-suggestions" style="width: 80%; margin: 0 auto;">
            <h2 style="text-align: center;">카테고리</h2>
            <div class="carousel">
                <button class="carousel-btn prev">◀</button>
                <div class="carousel-track-container">
                    <ul class="carousel-track">
                        <!-- 첫 번째 슬라이드 (상품 1~8) -->
                        <li class="carousel-slide">
                            <div class="product" onclick="loadContent('mainTest_pc.html')" style="cursor: pointer;">
                                <img src="https://via.placeholder.com/150" alt="Product 1">
                                <div class="product-info">
                                    <h3>PC</h3>
                                </div>
                            </div>
                            <div class="product" onclick="loadContent('mainTest_mobile.html')">
                                <img src="https://via.placeholder.com/150" alt="Product 2">
                                <div class="product-info">
                                    <h3>모바일</h3>
                          
                                </div>
                            </div>
                            <div class="product" onclick="loadContent('mainTest_keyboard.html')">
                                <img src="https://via.placeholder.com/150" alt="Product 3">
                                <div class="product-info">
                                    <h3>키보드</h3>
                            
                                </div>
                            </div>
                            <div class="product" onclick="loadContent('mainTest_mouse.html')">
                                <img src="https://via.placeholder.com/150" alt="Product 4">
                                <div class="product-info">
                                    <h3>마우스</h3>
                       
                                </div>
                            </div>
                            <div class="product" onclick="loadContent('mainTest_moniter.html')">
                                <img src="https://via.placeholder.com/150" alt="Product 5">
                                <div class="product-info">
                                    <h3>모니터</h3>
                                    <p class="price">₩30,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 6">
                                <div class="product-info">
                                    <h3>상품 6</h3>
                                    <p class="price">₩35,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 7">
                                <div class="product-info">
                                    <h3>상품 7</h3>
                                    <p class="price">₩40,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 8">
                                <div class="product-info">
                                    <h3>상품 8</h3>
                                    <p class="price">₩45,000</p>
                                </div>
                            </div>
                        </li>
                        <!-- 두 번째 슬라이드 (상품 5~8) -->
                        <li class="carousel-slide">
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 5">
                                <div class="product-info">
                                    <h3>상품 5</h3>
                                    <p class="price">₩30,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 6">
                                <div class="product-info">
                                    <h3>상품 6</h3>
                                    <p class="price">₩35,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 7">
                                <div class="product-info">
                                    <h3>상품 7</h3>
                                    <p class="price">₩40,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 8">
                                <div class="product-info">
                                    <h3>상품 8</h3>
                                    <p class="price">₩45,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 5">
                                <div class="product-info">
                                    <h3>상품 5</h3>
                                    <p class="price">₩30,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 6">
                                <div class="product-info">
                                    <h3>상품 6</h3>
                                    <p class="price">₩35,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 7">
                                <div class="product-info">
                                    <h3>상품 7</h3>
                                    <p class="price">₩40,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 8">
                                <div class="product-info">
                                    <h3>상품 8</h3>
                                    <p class="price">₩45,000</p>
                                </div>
                            </div>
                        </li>
                        <!-- 세 번째 슬라이드 (상품 9~12) -->
                        <li class="carousel-slide">
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 9">
                                <div class="product-info">
                                    <h3>상품 9</h3>
                                    <p class="price">₩50,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 10">
                                <div class="product-info">
                                    <h3>상품 10</h3>
                                    <p class="price">₩55,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 11">
                                <div class="product-info">
                                    <h3>상품 11</h3>
                                    <p class="price">₩60,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 12">
                                <div class="product-info">
                                    <h3>상품 12</h3>
                                    <p class="price">₩65,000</p>
                                </div>
                            </div>
                            <div class="product">
                                <img src="https://via.placeholder.com/150" alt="Product 12">
                                <div class="product-info">
                                    <h3>상품 12</h3>
                                    <p class="price">₩65,000</p>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <button class="carousel-btn next">▶</button>
            </div>
        </section>
    </div>
<!-- 알림 모달 -->
<div class="notification-modal" id="notificationModal">
    <div class="notification-content">
        <div id="iframeContainer">
        <iframe id="myIframe" 
        src="/src/main/resources/templates/mypage/notice.html" 
        frameborder="0">
        </iframe>
    </div>  
    </div>
</div>
<script src="/src/main/resources/static/js/menuToggle_ajax.js"></script>
    <script>
   function loadContent(page) {
    const xhr = new XMLHttpRequest();
    xhr.open("GET", page, true);
    xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
            document.getElementById("content").innerHTML = xhr.responseText;

            // HTML이 로드된 후 요소를 다시 찾고 이벤트 리스너를 추가합니다.
            const track = document.querySelector('.carousel-track');
            const slides = Array.from(track.children);
            const nextButton = document.querySelector('.next');
            const prevButton = document.querySelector('.prev');
            let currentSlideIndex = 0;

            if (track && slides.length > 0) {
                const slideWidth = slides[0].getBoundingClientRect().width;

                const moveToSlide = (index) => {
                    track.style.transform = `translateX(-${index * slideWidth}px)`;
                    nextButton.style.display = (index === slides.length - 1) ? 'none' : 'block';
                    prevButton.style.display = (index === 0) ? 'none' : 'block';
                };

                nextButton.addEventListener('click', () => {
                    if (currentSlideIndex < slides.length - 1) {
                        currentSlideIndex++;
                    } else {
                        currentSlideIndex = 0;
                    }
                    moveToSlide(currentSlideIndex);
                });

                prevButton.addEventListener('click', () => {
                    if (currentSlideIndex > 0) {
                        currentSlideIndex--;
                    } else {
                        currentSlideIndex = slides.length - 1;
                    }
                    moveToSlide(currentSlideIndex);
                });

                // 첫 슬라이드 상태 초기화
                prevButton.style.display = 'none';
            } else {
                console.error("Carousel elements not found.");
            }
        }
    };
    xhr.send();
}

</script>
<script src="/src/main/resources/static/js/ajax.js"></script>
<script src="/src/main/resources/static/js/menuToggle copy.js"></script>
</body>
</html>